import { useState } from 'react'; import axios from 'axios';
  
  export default function Chatbot() { const [messages, setMessages] = useState([ { role: 'bot', text: 'Hello! I am your contract assistant. Ask me anything about your document.' } ]); const [input, setInput] = useState('');
  
  const sendMessage = async () => { if (!input.trim()) return; const userMsg = { role: 'user', text: input }; setMessages(prev => [...prev, userMsg]);
  
  try {
    const res = await axios.post('https://your-n8n-webhook-url.com', { message: input });
    const botMsg = { role: 'bot', text: res.data.reply || 'Sorry, I could not process that.' };
    setMessages(prev => [...prev, botMsg]);
  } catch (error) {
    setMessages(prev => [...prev, { role: 'bot', text: 'There was an error contacting the chatbot.' }]);
  }
  setInput('');
  
  };
  
  return ( <div className="max-w-2xl mx-auto mt-6 p-4 border rounded bg-white"> <h2 className="text-xl font-bold mb-2">Contract Chat Assistant</h2> <div className="space-y-2 max-h-80 overflow-y-auto mb-4"> {messages.map((msg, i) => ( <div key={i} className={p-2 rounded ${msg.role === 'bot' ? 'bg-gray-100' : 'bg-blue-100 text-right'}}> <p className="text-sm">{msg.text}</p> </div> ))} </div> <div className="flex gap-2"> <input type="text" className="flex-1 border p-2 rounded" placeholder="Ask about your contract..." value={input} onChange={(e) => setInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && sendMessage()} /> <button onClick={sendMessage} className="bg-blue-600 text-white px-4 py-2 rounded"> Send </button> </div> </div> ); }
